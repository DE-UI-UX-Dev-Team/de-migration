@use "sass:map"; 

@use '../../abstracts/base' as *;
@use '../../abstracts/tokens' as *;

@mixin getButtonsOnColorBg ( $buttonsOnBackgrounds, $backgroundType ) {

    @if($backgroundType== "lightBackgrounds"){
        @each $button, $states in map.get($buttonsOnLightBg, #{$active-theme}) { 
            @each $state, $properties in $states { 
                @if $button == "primary" {
                    @if $state == "default" {
                        .btn--#{$button}, 
                        [type="submit"] {
                            @each $property, $value in $properties{
                                @if $value != null {
                                    #{$property}: var(--#{$button}-btn-on-lgt-bg--#{$state}--#{$property});
                                }
                            }
                        } 
                    }
                    @else{
                        .btn--#{$button}:#{$state}, 
                        [type="submit"]:#{$state} {
                            @each $property, $value in $properties{
                                @if $value != null {
                                    #{$property}: var(--#{$button}-btn-on-lgt-bg--#{$state}--#{$property});
                                }
                            }
                        }
                    }
                }
                @else if $button == "secondary" {
                    @if $state == "default" {
                        button,
                        .btn, 
                        [type="button"],
                        [type="reset"],
                        .btn--#{$button}{
                            @each $property, $value in $properties{ 
                                @if $value != null {
                                    #{$property}: var(--#{$button}-btn-on-lgt-bg--#{$state}--#{$property});
                                }
                            }
                        } 
                    }
                    @else{
                        button:#{$state},  
                        .btn:#{$state},
                        [type="reset"]:#{$state}, 
                        [type="button"]:#{$state}, 
                        .btn--#{$button}:#{$state}{
                            @each $property, $value in $properties{
                                @if $value != null {
                                    #{$property}: var(--#{$button}-btn-on-lgt-bg--#{$state}--#{$property});
                                }
                            }
                        } 
                    }
                }
                @else{
                    @if $state == "default" {
                        .btn--#{$button}{
                            @each $property, $value in $properties{
                                @if $value != null {
                                    #{$property}: var(--#{$button}-btn-on-lgt-bg--#{$state}--#{$property});
                                }
                            }
                        } 
                    }
                    @else{
                        .btn--#{$button}:#{$state}{
                            @each $property, $value in $properties{
                                @if $value != null {
                                    #{$property}: var(--#{$button}-btn-on-lgt-bg--#{$state}--#{$property});
                                }
                            }
                        }
                    }
                }
            }
        }
    } // end lightBackgrounds conditional

    @if($backgroundType== "darkBackgrounds"){
        @each $bgClass in $darkBackgroundClasses {
            @each $button, $states in map.get($buttonsOnDarkBg, #{$active-theme}) {
                @each $state, $properties in $states {
                    @if $button == "secondary" {
                        @if $state == "default" {
                            [class*=#{$bgClass}] button,
                            [class*=#{$bgClass}] .btn, 
                            [class*=#{$bgClass}] [type="submit"],
                            [class*=#{$bgClass}] [type="button"],
                            [class*=#{$bgClass}] [type="reset"],
                            [class*=#{$bgClass}] .btn--#{$button}{
                                @each $property, $value in $properties{
                                    @if $value != null {
                                        #{$property}: var(--#{$button}-btn-on-drk-bg--#{$state}--#{$property});
                                    }
                                }
                            } 
                        }
                        @else{
                            [class*=#{$bgClass}] button:#{$state},  
                            [class*=#{$bgClass}] .btn:#{$state},
                            [class*=#{$bgClass}] [type="submit"]:#{$state}, 
                            [class*=#{$bgClass}] [type="reset"]:#{$state}, 
                            [class*=#{$bgClass}] [type="button"]:#{$state}, 
                            [class*=#{$bgClass}] .btn--#{$button}:#{$state}{
                                @each $property, $value in $properties{
                                    @if $value != null {
                                        #{$property}: var(--#{$button}-btn-on-drk-bg--#{$state}--#{$property});
                                    }
                                }
                            } 
                        }
                    }
                    @else{
                        @if $state == "default" {
                            [class*=#{$bgClass}] .btn--#{$button} {
                                @each $property, $value in $properties{
                                    @if $value != null {
                                        #{$property}: var(--#{$button}-btn-on-drk-bg--#{$state}--#{$property});
                                    }
                                }
                            } 
                        }
                        @else{
                            [class*=#{$bgClass}] .btn--#{$button}:#{$state} {
                                @each $property, $value in $properties{
                                    @if $value != null {
                                        #{$property}: var(--#{$button}-btn-on-drk-bg--#{$state}--#{$property});
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    } // end darkBackground conditional

}