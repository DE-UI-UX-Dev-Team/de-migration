@use "sass:map"; 

@use '../../abstracts/base' as *;
@use '../../abstracts/tokens' as *;
@use '../mixins/breakpoints' as *; 

@mixin getTable() {

    @each $breakpoint,$tableTypes in map.get($tables, #{$active-theme}) {
        $tableTypeSelector: "";
        //using mediaQuery mixin
        @include mediaQuery( #{$breakpoint} ) { 
            // defining table selector depending on the tableType
            @each $tableType, $tableItems in $tableTypes {
                @if $tableType != "table--default"{
                    $tableTypeSelector: "table.#{$tableType}";
                }
                @else{
                    $tableTypeSelector: "table";
                }
                @each $tableItem, $tableSubItems in $tableItems {
                    //styles for thead tr, thead td
                    @if $tableItem =="thead" {
                        @each $tableSubItem, $properties in $tableSubItems {
                            @if $tableSubItem=="tr" {
                                #{$tableTypeSelector} #{$tableSubItem}.#{$tableItem} {
                                    @each $property, $value in $properties {
                                        #{$property}: #{$value};
                                    }
                                }
                            }
                            @else {
                                #{$tableTypeSelector} .#{$tableItem} #{$tableSubItem}{
                                    @each $property, $value in $properties {
                                        #{$property}: #{$value};
                                    }
                                }
                            }

                        }
                    }
                     //styles for tbody tr, tbody td
                    @if $tableItem =="tbody" {
                        @each $tableSubItem, $properties in $tableSubItems {
                            #{$tableTypeSelector} #{$tableSubItem} {
                                @each $property, $value in $properties {
                                    #{$property}: #{$value};
                                }
                            }
                        }
                    }
                }
            }
        }
        
    } 
}